# 6. C/C++ 언어 기초 / 7 세그먼트 사용 하기

날짜: 2025년 4월 2일
학습 상태: 완료
복습 필요: Yes

### **📌 C/C++ 언어 문법 (아두이노에서 사용되는 자료형)**

아두이노의 **스케치(Sketch)** 는 `C/C++` 언어로 작성되며, 라이브러리는 `C++` 스타일의 클래스로 제공됨.

---

### **📌 자료형 (Data Type) 정리**

| 자료형 | 크기 (Byte) | 설명 |
| --- | --- | --- |
| **`boolean`** | 1 | `true(1)` 또는 `false(0)` 만 저장할 수 있는 **논리형 데이터** |
| **`char`** | 1 | 문자(ASCII 코드) 저장, 예: `'A'` = 65 (ASCII 값) |
| **`unsigned char`** | 1 | byte 형과 동일하게 0~255 사이의 숫자를 저장 |
| **`byte`** | 1 | `0~255` 사이의 **양의 정수 (Unsigned 8-bit Integer)** |
| **`int`** | 2 (일반 아두이노) / 4 (ESP 등 32-bit 보드) | **정수형** 데이터 (-32,768 ~ 32,767) |
| **`unsigned int`** | 2 | 2바이트 크기의 정수형 (0 ~ 65535) 을 저장 |
| **`word`**  | 2 (16-bit) 또는 4 (32-bit) | **양의 정수**, `0~65535(16-bit)` 또는 `0~4294967295(32-bit)` |
| **`long`** | 4 | **더 큰 정수값** 저장 (-2,147,483,648 ~ 2,147,483,647) |
| **`short`** | 2 | **작은 범위의 정수** (-32,768 ~ 32,767) |
| **`float`** | 4 | **소수점이 있는 실수 (32-bit, 약 7자리 정밀도)** |
| **`double`** | 4 (일반 아두이노) / 8 (ESP 등 64-bit 보드) | **더 정밀한 실수 (64-bit, 약 15자리 정밀도)** |

---

### **📌 변수(Variable) & 상수(Constant) 정리**

### **✅ 변수란?**

변수는 프로그램에서 데이터를 **일시적으로 저장하는 공간**.

변수의 값을 **필요에 따라 변경 가능**.

- **변수를 초기화해야 하는 이유**:
    - 변수를 초기화하지 않으면 메모리에 남아 있던 **쓰레기 값(Garbage Value)** 이 저장될 수 있음.
    - 예측할 수 없는 오류 발생 가능!

---

### **📌 변수 선언 시 주의사항**

✅ **변수 이름 규칙**

1. 숫자로 시작할 수 없음 (`int 2count; ❌`)
2. 공백 사용 불가 (`float user age; ❌`)
3. 예약어 사용 불가 (`int float; ❌`)
4. 대소문자 구분 (`int value;` 과 `int Value;` 는 다름)
5. 의미 있는 이름 사용 (`int x;` 대신 `int temperature;` 추천)

✅ **초기화 필수**

- **초기화하지 않으면 쓰레기 값 저장됨** → 예측할 수 없는 동작 발생 가능
- `int num = 0;` 또는 `float voltage = 0.0;` 처럼 **명확한 초기값 부여**

---

### **📌 상수(Constant)란?**

✅ **변하지 않는 값 (고정된 데이터 값)**

- **상수는 값을 변경할 수 없음**
- 변수를 선언할 때 `const` 키워드 사용

```cpp
const float PI = 3.1415;  // 원주율은 변하지 않으므로 상수로 선언
const int MAX_SPEED = 255;  // 모터의 최대 속도
```

📌 **변수는 값이 변경 가능하지만, 상수는 한 번 선언되면 변경 불가!** 🚀

---

### **📌 변수의 종류: 지역변수 vs 전역변수**

| 구분 | 지역변수 (Local Variable) | 전역변수 (Global Variable) |
| --- | --- | --- |
| **유효 범위** | 특정 함수 또는 블록 `{}` 내부 | 프로그램 전체 |
| **메모리 할당** | 함수가 실행될 때 생성, 종료 시 소멸 | 프로그램 시작 시 할당, 종료 시 해제 |
| **초기화 여부** | 초기화하지 않으면 쓰레기 값 가짐 | 초기화하지 않으면 자동으로 `0` |

✅ **지역변수(Local Variable)**

- 특정 함수 내부에서만 유효한 변수
- 함수 실행 시 생성되고, 함수 종료 시 소멸됨

✅ **전역변수(Global Variable)**

- 프로그램 **어디서든 접근 가능한 변수**
- 프로그램 시작 시 자동으로 `0`으로 초기화됨

---

### **📌 지정자 (static / volatile)**

✅ **`static` (정적 변수)**

- **일반적인 지역 변수는 함수가 끝나면 소멸되지만**, `static`으로 선언하면 **값을 유지함**.
- 선언된 위치에 따라 **유효 범위(scope)는 같지만, 메모리에 계속 남아 있음**.

✅ **`volatile` (휘발성 변수)**

- **CPU가 직접 변경할 수 없는 변수**임을 컴파일러에게 알려주는 역할.
- **하드웨어(센서, 타이머, 인터럽트 등)가 값을 변경하는 경우 필수!**
- `volatile`이 없으면 **최적화 과정에서 값이 변하지 않는다고 판단하고 갱신하지 않을 수도 있음**.

---

### **📌 연산자 쉽게 정리**

✅ **대입 연산자 (`=`)**

- 변수에 값을 저장하는 연산자

✅ **산술 연산자 (`+`, `-`, `*`, `/`, `%`)**

- 기본적인 수학 연산

✅ **논리 연산자 (`&&`, `||`, `!`)**

- **참/거짓 (true/false) 값을 계산하는 연산자**

| 연산자 | 의미 | 사용 예시 | 설명 |
| --- | --- | --- | --- |
| `&&` | 논리 AND | `A && B` | A와 B가 **모두** `true`일 때만 `true` |
| `||` | 논리 OR | `A || B`  | A혹은 B가 `true` 일 때 `true` |
| `!` | 논리 NOT | `!A` | A가 `true`면 `false`, `false`면 `true` |

✅ **비교 연산자 (`==`, `!=`, `>`, `<`, `>=`, `<=`)**

- 두 값의 크기나 같음을 비교하는 연산

✅ **비트 연산자 (`&`, `|`, `^`, `~`, `<<`, `>>`)**

- **2진수(비트) 단위로 연산하는 연산자**

✅ **시프트 연산자** (`<<` , `>>`)

- 비트 단위로 값을 이동, 주로 값을 2의 배수로 곱하거나 나누는 데 사용

| 연산자 | 설명 | 예제 |
| --- | --- | --- |
| `<<` (왼쪽 쉬프트) | 비트를 왼쪽으로 이동 (2배씩 곱하기 효과) | `5 << 1` → `101` → `1010` (10) |
| `>>` (오른쪽 쉬프트) | 비트를 오른쪽으로 이동 (2배씩 나누기 효과) | `5 >> 1` → `101` → `10` (2) |

✅ **복합 연산자 (`+=`, `-=`, `*=`, `/=`, `%=`)**

- **자기 자신과 연산을 한 번에 수행**

---

✅  **연산자 우선순위**

| 우선순위 | 연산자 | 설명 | 예시 |
| --- | --- | --- | --- |
| 1 | `()` | 괄호 | `(a + b) * c` |
| 2 | `[]` | 배열 인덱스 | `arr[0]` |
| 2 | `.` | 구조체 멤버 접근 | `structVar.member` |
| 3 | `++`, `--` (후위) | 후위 증가, 감소 | `a++` |
| 4 | `++`, `--` (전위) | 전위 증가, 감소 | `++a` |
| 5 | `+`, `-` | 부호 연산자 | `-a`, `+b` |
| 5 | `~` | 비트 NOT | `~a` |
| 5 | `!` | 논리 NOT | `!a` |
| 6 | `*`, `/`, `%` | 곱셈, 나눗셈, 나머지 | `a * b`, `a / b`, `a % b` |
| 7 | `+`, `-` | 덧셈, 뺄셈 | `a + b`, `a - b` |
| 8 | `<<`, `>>` | 비트 왼쪽, 오른쪽 시프트 | `a << 2`, `a >> 1` |
| 9 | `<`, `<=`, `>`, `>=` | 비교 연산자 | `a < b`, `a >= b` |
| 10 | `==`, `!=` | 같음, 다름 비교 | `a == b`, `a != b` |
| 11 | `&` | 비트 AND | `a & b` |
| 12 | `^` | 비트 XOR | `a ^ b` |
| 13 | ` | ` | 비트 OR |
| 14 | `&&` | 논리 AND | `a && b` |
| 15 | ` |  | ` |
| 16 | `?:` | 삼항 조건 연산자 | `condition ? x : y` |
| 17 | `=` | 대입 연산자 | `a = b` |
| 18 | `+=`, `-=`, `*=`, `/=`, `%=` 등 | 복합 대입 연산자 | `a += b`, `x *= 2` |
| 19 | `,` | 쉼표 연산자 | `a = 1, b = 2` |

---

### ✅ **제어문 (Control Structures)**

제어문은 프로그램의 흐름을 제어하는 명령어입니다. 조건문과 반복문을 통해 특정 조건에 따라 실행 흐름을 분기하거나 반복할 수 있습니다.

---

### **1. 조건문 (if ~ else, switch ~ case)**

### **if ~ else**

`if ~ else` 문은 주어진 조건이 참이면 특정 명령을 실행하고, 그렇지 않으면 다른 명령을 실행합니다.

**구문:**

```cpp
if (조건) {
  // 조건이 참일 때 실행되는 코드
} else {
  // 조건이 거짓일 때 실행되는 코드
}
```

**예시:**

```cpp
int a = 10;

if (a > 5) {
  Serial.println("a는 5보다 큽니다.");
} else {
  Serial.println("a는 5보다 작거나 같습니다.");
}
```

### **switch ~ case**

`switch ~ case` 문은 주어진 변수의 값에 따라 여러 가지 경우를 선택하여 실행할 수 있는 제어문입니다.

**구문:**

```cpp
switch (변수) {
  case 값1:
    // 값1일 때 실행되는 코드
    break;
  case 값2:
    // 값2일 때 실행되는 코드
    break;
  default:
    // 어떤 값도 일치하지 않으면 실행되는 코드
}
```

**예시:**

```cpp
int day = 2;

switch (day) {
  case 1:
    Serial.println("월요일");
    break;
  case 2:
    Serial.println("화요일");
    break;
  case 3:
    Serial.println("수요일");
    break;
  default:
    Serial.println("주말");
}
```

### **2. 반복문 (for, while, do ~ while)**

### **for문**

`for`문은 반복 횟수가 정해져 있을 때 유용합니다. 시작값, 조건, 증감식을 포함하여 반복 실행할 코드를 설정합니다.

**구문:**

```cpp
for (초기화; 조건; 증감) {
  // 반복할 코드
}
```

**예시:**

```cpp
for (int i = 0; i < 5; i++) {
  Serial.println(i);
}
```

### **while문**

`while`문은 조건이 참인 동안 반복되는 문입니다. 조건을 만족하는 한 계속 실행됩니다.

**구문:**

```cpp
while (조건) {
  // 반복할 코드
}
```

**예시:**

```cpp
int i = 0;
while (i < 5) {
  Serial.println(i);
  i++;
}
```

### **do ~ while문**

`do ~ while`문은 조건을 검사하기 전에 먼저 코드가 한 번 실행되고, 그 후에 조건을 검사하여 반복 여부를 결정합니다.

**구문:**

```cpp
do {
  // 반복할 코드
} while (조건);
```

**예시:**

```cpp
int i = 0;
do {
  Serial.println(i);
  i++;
} while (i < 5);
```

---

### **3. 제어문 응용 예시**

**예시 1: if ~ else**

```cpp
int temperature = 25;

if (temperature > 30) {
  Serial.println("덥습니다.");
} else {
  Serial.println("괜찮습니다.");
}
```

**예시 2: switch ~ case**

```cpp
char grade = 'B';

switch (grade) {
  case 'A':
    Serial.println("우수");
    break;
  case 'B':
    Serial.println("보통");
    break;
  case 'C':
    Serial.println("미흡");
    break;
  default:
    Serial.println("알 수 없음");
}
```

**예시 3: for문**

```cpp
for (int i = 1; i <= 10; i++) {
  Serial.println(i);
}
```

**예시 4: while문**

```cpp
int i = 1;
while (i <= 5) {
  Serial.println(i);
  i++;
}
```

---

### **✅ 요약**

- **조건문**: `if ~ else`는 조건을 통해 실행 흐름을 분기하며, `switch ~ case`는 특정 값에 따라 여러 경우를 선택하는 데 유용합니다.
- **반복문**: `for`는 반복 횟수가 정해져 있을 때, `while`은 조건이 참일 때 반복하며, `do ~ while`은 최소 한 번 실행하고 조건을 검사합니다.

---